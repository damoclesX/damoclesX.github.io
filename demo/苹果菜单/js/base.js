function ready(fn){
	if(document.addEventListener){
		document.addEventListener('DOMContentLoaded',fn,false);
	}else{
		document.attachEvent('onreadystatechange',function(){
			if(document.readyState == 'complete'){
				fn();
			}
		})
	}
}
function getByClass(oParent,sClass){
	if(oParent.getElementsByClassName){
		return oParent.getElementsByClassName(sClass);
	}

	var all=oParent.getElementsByTagName('*'),
		result=[],
		re=new RegExp('(\\s+|^)'+sclass+'(\\s+|$)'),
		i=0;
	for(;i<all.length;i++){
		if(re.test(all[i].className)){
			result.push(all[i]);
		}
	}
	return result;
}
//自动播放
/*
	参数说明
	{
		obj: 绑定事件的对象 (obj),
		now:控制全局的变量 (string),
		fn:自动播放的函数名 (fn，为定义函数的名字)
	}
	bindAutoplay(json)
*/
function bindAutoplay(json){
	var json = json || {};
	if(!json) return ;
	json.obj=json.obj;
	json.space=json.space || 5000;
	json.timer=json.timer || null;

	if(!json.obj) return;

	json.timer=setInterval(function(){
		window[json.now]=++window[json.now];
		json.fn();
	},json.space);
	json.obj['onmouseover']=function(){
		clearInterval(json.timer);
	};
	json.obj['onmouseout']=function(){
		json.timer=setInterval(function(){
			window[json.now]=++window[json.now];
			json.fn();
		},json.space)
	}
}

ready(function(){
	var oMenu=document.getElementById('menu'),
		aImg=oMenu.children;


	document.onmousemove=function(e){
		var oEvent= e || window.event,
			d=0,
			iMax=200;

		function dis(obj){
			return Math.sqrt(
				Math.pow((obj.offsetLeft+oMenu.offsetLeft-oEvent.clientX+obj.offsetWidth/2),2)+Math.pow((obj.offsetTop+oMenu.offsetTop-oEvent.clientY+obj.offsetHeight/2),2)
			)
		}

		for(var i=0;i<aImg.length;i++){
			d=Math.min(dis(aImg[i]),iMax);
			aImg[i].width=(iMax-d)/iMax*64+64;
		}
	};


})